filename,start_line,end_line,error_description,semantically_correct_detected
build.gradle,48,48,"`ignoreFailures = true` on the `test` task suppresses all unit/integration test failures, allowing faulty code to pass the build and hiding regressions.",
application.properties,22,22,"`spring.jpa.hibernate.ddl-auto=update` lets Hibernate mutate the schema at runtime even though Flyway migrations manage it, leading to schema drift and conflicting DDL changes in production.",
AddressController.java,44,47,"The address creation endpoint declares `consumes = ""text/plain""` while binding a JSON DTO, causing Spring to return 415/400 for valid JSON requests because no converter can turn plain text into `AddressRequest`.",
AddressController.java,50,53,"The PATCH endpoint accepts `AddressRequest` without `@Validated(Update.class)` (or even `@Valid`), so clients can send invalid data (blank street, malformed postal code, etc.) and it will bypass all Jakarta validation constraints.",
UserController.java,47,51,"User creation lacks any `@Valid/@Validated(Create.class)` on the request body, meaning passwords, emails and usernames are never validated and malformed data is persisted.",
UserController.java,59,61,"`@DeleteMapping` `/users/{id}` has no `@PreAuthorize`, allowing any anonymous caller to delete arbitrary users, which is a critical security vulnerability.",
AddressServiceImpl.java,65,73,`getById` calls `addressRepository.findById(addressId).get()`; when the ID does not exist it throws `NoSuchElementException` and returns 500 instead of the intended 404 `ResourceNotFoundException`.,
AddressServiceImpl.java,78,89,"`save` maps the DTO to an entity and immediately maps it back to a response without ever calling `addressRepository.save`, so no address is persisted and the returned DTO always has a null id.",
UserMapper.java,53,56,"`updateUserEntityFromUserRequest` encodes the password twice (`passwordEncoder.encode(passwordEncoder.encode(dto.password()))`), producing hashes that will never match during login and locking users out after an update.",
UserServiceImpl.java,71,80,"`listAll` ignores the supplied `Pageable`, loads the entire user table into memory, and wraps it in a `PageImpl`, so pagination and sorting parameters from the API are silently ignored and large datasets will exhaust memory.",
UserServiceImpl.java,98,107,"`getByUsername` builds SQL via string concatenation (`SELECT * FROM users WHERE username = '...')` and feeds it directly to `EntityManager`, allowing SQL injection if a crafted username is supplied.",
UserServiceImpl.java,117,119,"The save method logs both the username and the raw password (`""user with name: {} and password: {}""`), leaking credentials into log files and violating security best practices.",
UserServiceImpl.java,161,172,"`delete` loads the user but never calls `userRepository.delete(...)`, so DELETE requests report success without actually removing anything from the database.",
UserServiceImpl.java,175,188,"`checkLogin` calls `userRepository.findByUsername(username).get()`; missing users cause `NoSuchElementException` (500) before the dummy hash logic can run, defeating the intended timing attack mitigation and skipping the proper 401 response.",
V1__create_tables.sql,14,21,"The database schema restricts `house_number` and `postal_code` to VARCHAR(20), but `AddressRequest` and the JPA entity allow 255 characters, so valid API requests (length >20) will fail at the database layer with data truncation errors.",
