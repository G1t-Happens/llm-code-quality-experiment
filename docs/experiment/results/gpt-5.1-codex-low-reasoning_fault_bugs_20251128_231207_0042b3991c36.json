[
  {
    "filename": "src/main/java/com/llmquality/baseline/service/AddressServiceImpl.java",
    "start_line": 66,
    "end_line": 74,
    "error_description": "getById() calls addressRepository.findById(addressId).get() without handling empty Optional, leading to NoSuchElementException (500) instead of returning 404 when the address does not exist."
  },
  {
    "filename": "src/main/java/com/llmquality/baseline/service/AddressServiceImpl.java",
    "start_line": 79,
    "end_line": 90,
    "error_description": "save() maps the request to an Address entity but never persists it with addressRepository.save(), so no record is created in the database and the returned DTO contains a null id."
  },
  {
    "filename": "src/main/java/com/llmquality/baseline/service/UserServiceImpl.java",
    "start_line": 66,
    "end_line": 76,
    "error_description": "listAll(Pageable) ignores the provided Pageable and loads all users into memory before wrapping them in a PageImpl, resulting in incorrect pagination metadata and potential performance issues on large datasets."
  },
  {
    "filename": "src/main/java/com/llmquality/baseline/service/UserServiceImpl.java",
    "start_line": 94,
    "end_line": 103,
    "error_description": "getByUsername() builds a native SQL string by concatenating the username directly into the query, allowing SQL injection if a crafted username is supplied."
  },
  {
    "filename": "src/main/java/com/llmquality/baseline/service/UserServiceImpl.java",
    "start_line": 113,
    "end_line": 113,
    "error_description": "save() logs the raw password in plaintext, which is a severe security vulnerability because credentials can leak through log files."
  },
  {
    "filename": "src/main/java/com/llmquality/baseline/service/UserServiceImpl.java",
    "start_line": 162,
    "end_line": 173,
    "error_description": "delete() looks up the user but never invokes userRepository.delete(...), so the method reports success without removing the user from the database."
  },
  {
    "filename": "src/main/java/com/llmquality/baseline/service/UserServiceImpl.java",
    "start_line": 176,
    "end_line": 190,
    "error_description": "checkLogin() calls userRepository.findByUsername(...).get() and only afterwards checks for null, causing NoSuchElementException/500 when the user does not exist instead of returning Unauthorized; the dummy hash logic is never reached."
  },
  {
    "filename": "src/main/java/com/llmquality/baseline/mapper/UserMapper.java",
    "start_line": 55,
    "end_line": 55,
    "error_description": "updateUserEntityFromUserRequest() double-encodes the password (passwordEncoder.encode(passwordEncoder.encode(...))) which produces an unusable hash, making updated credentials invalid."
  }
]