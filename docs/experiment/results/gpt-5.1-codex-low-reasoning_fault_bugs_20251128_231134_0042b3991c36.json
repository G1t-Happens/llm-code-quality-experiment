[
  {
    "filename": "/home/dbe/projects/llm-code-quality-experiment/baseline_project_buggy/src/main/java/com/llmquality/baseline/controller/AddressController.java",
    "start_line": 44,
    "end_line": 48,
    "error_description": "Address creation endpoint declares consumes=\"text/plain\" but expects a JSON body mapped to AddressRequest, causing clients sending JSON (the documented format) to receive 415 Unsupported Media Type."
  },
  {
    "filename": "/home/dbe/projects/llm-code-quality-experiment/baseline_project_buggy/src/main/java/com/llmquality/baseline/service/AddressServiceImpl.java",
    "start_line": 66,
    "end_line": 74,
    "error_description": "getById uses addressRepository.findById(...).get() without checking presence, which throws NoSuchElementException (500) instead of returning 404 when an address is absent."
  },
  {
    "filename": "/home/dbe/projects/llm-code-quality-experiment/baseline_project_buggy/src/main/java/com/llmquality/baseline/service/AddressServiceImpl.java",
    "start_line": 79,
    "end_line": 89,
    "error_description": "save() maps the DTO to an entity but never persists it via addressRepository.save, so no record is written to the database and the response lacks the generated ID."
  },
  {
    "filename": "/home/dbe/projects/llm-code-quality-experiment/baseline_project_buggy/src/main/java/com/llmquality/baseline/service/UserServiceImpl.java",
    "start_line": 101,
    "end_line": 113,
    "error_description": "getByUsername builds a native query by concatenating the username directly into SQL, creating a SQL injection vulnerability."
  },
  {
    "filename": "/home/dbe/projects/llm-code-quality-experiment/baseline_project_buggy/src/main/java/com/llmquality/baseline/service/UserServiceImpl.java",
    "start_line": 118,
    "end_line": 120,
    "error_description": "save() logs the raw username and password, leaking credentials into application logs and violating security best practices."
  },
  {
    "filename": "/home/dbe/projects/llm-code-quality-experiment/baseline_project_buggy/src/main/java/com/llmquality/baseline/mapper/UserMapper.java",
    "start_line": 53,
    "end_line": 56,
    "error_description": "updateUserEntityFromUserRequest double-encodes the password (passwordEncoder.encode(passwordEncoder.encode(...))), producing hashes that will never match during login."
  },
  {
    "filename": "/home/dbe/projects/llm-code-quality-experiment/baseline_project_buggy/src/main/java/com/llmquality/baseline/service/UserServiceImpl.java",
    "start_line": 161,
    "end_line": 173,
    "error_description": "delete() loads the user but never calls userRepository.delete, so no deletion actually occurs."
  },
  {
    "filename": "/home/dbe/projects/llm-code-quality-experiment/baseline_project_buggy/src/main/java/com/llmquality/baseline/service/UserServiceImpl.java",
    "start_line": 175,
    "end_line": 189,
    "error_description": "checkLogin() calls userRepository.findByUsername(username).get() without checking presence; if the user does not exist it throws NoSuchElementException before reaching the dummy hash logic, resulting in a 500 response instead of a controlled 401."
  }
]